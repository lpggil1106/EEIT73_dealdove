<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å•†å“é é¢</title>
    <link rel="stylesheet" href="./css/main.css">
    <link rel="stylesheet" href="./css/04_product_page.css" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous">
    <script src="https://kit.fontawesome.com/e72344855b.js" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="./css/02-4_chat.css">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
</head>

<body>
    <header>
        <nav class="header">
            <div class="d-flex">
                <a class="iconBorder" href="/Dealdove"><img class="icon" src="./images/icon.png"></a>
                <div class="search-container">
                    <div class="search-bar">
                        <input type="text" class="search-input" placeholder="Search...">
                        <div class="search-icon">
                            <i class="fas fa-search"></i>
                        </div>
                    </div>
                    <div class="popular-categories">
                        <ul>
                            <li>æ´—è¡£ç²¾</li>
                            <li>èŠ±ç›†</li>
                            <li>è¡›ç”Ÿç´™</li>
                            <li>å¹é¢¨æ©Ÿ</li>
                            <li>å‰ªåˆ€</li>
                            <li>æ‰‹æ©Ÿæ®¼</li>
                            <li>æ¢³å­</li>
                            <li>æ¡Œå¢Š</li>
                            <li>é¦¬å…‹æ¯</li>
                            <li>è–èª•æ¨¹</li>
                            <li>è–èª•è£é£¾å“</li>
                            <li>é‰›ç­†ç›’</li>
                            <li>è€³æ©Ÿ</li>
                            <li>ç¹ªæœ¬</li>
                        </ul>
                    </div>
                </div>
                <div class="header_link">
                    <ul>
                        <li>
                            <svg width="1.1vw" height="1.1vw" viewBox="0 0 22 20" fill="none"
                                 xmlns="http://www.w3.org/2000/svg">
                                <path
                                        d="M8.94965 9.24365L1.60819 15.6852C0.797271 16.3967 0.797271 17.5503 1.60819 18.2618C2.41909 18.9733 3.73385 18.9733 4.54476 18.2618L11.8862 11.8203"
                                        stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
                                <path
                                        d="M16.3651 12.1523L20.3917 15.6853C21.2027 16.3968 21.2027 17.5505 20.3917 18.2619C19.5809 18.9735 18.2661 18.9735 17.4552 18.2619L11.0093 12.6063"
                                        stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
                                <path
                                        d="M5.50522 4.95963L3.30278 5.60379L1.10034 2.38304L2.56863 1.09473L6.23937 3.02718L5.50522 4.95963ZM5.50522 4.95963L8.44367 7.53788"
                                        stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
                                <path
                                        d="M8.94955 9.2435C8.07349 7.28218 8.24477 4.70872 10.0508 3.12408C11.8568 1.53943 15.1898 1.19163 17.0252 2.15785L13.8682 4.9278L13.5748 7.76186L16.8048 7.50441L19.9617 4.73445C21.063 6.34483 20.6666 9.26929 18.8606 10.8539C17.0545 12.4385 14.1215 12.5889 11.8862 11.8201"
                                        stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
                            </svg>
                            </i><a href="./10_seller_home_page.html"
                                   class=" link-underline link-underline-opacity-0 text-secondary"> è³£å ´ç®¡ç†</a>
                        </li>
                        <li>
                            <svg xmlns="http://www.w3.org/2000/svg" width="1.1vw" height="1.1vw   " viewBox="0 0 20 22"
                                 fill="none">
                                <path d="M1 21V19.75C1 14.9175 4.91751 11 9.75 11C14.5825 11 18.5 14.9175 18.5 19.75V21"
                                      stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
                                <path
                                        d="M9.75 11C12.5114 11 14.75 8.76138 14.75 6C14.75 3.23857 12.5114 1 9.75 1C6.98857 1 4.75 3.23857 4.75 6C4.75 8.76138 6.98857 11 9.75 11Z"
                                        stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
                            </svg>
                            </i><a id="member" href="/Member"
                                   class=" link-underline link-underline-opacity-0 text-secondary "> æœƒå“¡ä¸­å¿ƒ</a>
                        </li>
                        <li>
                            <svg xmlns="http://www.w3.org/2000/svg" width="1.1vw" height="1.1vw" viewBox="0 0 17 20"
                                 fill="none">
                                <path
                                        d="M13.5 9.86888H15.25C15.6642 9.86888 16 10.1635 16 10.5269V17.985C16 18.3484 15.6642 18.643 15.25 18.643H1.75C1.33579 18.643 1 18.3484 1 17.985V10.5269C1 10.1635 1.33579 9.86888 1.75 9.86888H3.5M13.5 9.86888V5.48181C13.5 4.01945 12.5 1.09473 8.5 1.09473C4.5 1.09473 3.5 4.01945 3.5 5.48181V9.86888M13.5 9.86888H3.5"
                                        stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" />
                            </svg>
                            </i><a id="login" href="/Login"
                                   class=" link-underline link-underline-opacity-0 text-secondary">
                            è¨»å†Š/ç™»å…¥</a>
                        </li>
                    </ul>
                </div>
                <div class="cart_container">
                    <a href="./08_shopping_cart.html">
                        <svg xmlns="http://www.w3.org/2000/svg" width="2.7vw" height="2.7vw" viewBox="0 0 40 32"
                            fill="none">
                            <path
                                d="M39.1404 6.20728C38.947 5.97764 38.6949 5.79109 38.4043 5.66266C38.1136 5.53422 37.7927 5.4675 37.4673 5.46788L12.6088 5.48008L12.3246 4.26477C11.7939 1.79221 9.3536 -0.00140304 6.5207 8.23529e-07L2.0818 0.0021945C0.93 0.00272095 -0.00059971 0.821964 2.89972e-07 1.83082C0.00070029 2.83967 0.9323 3.65804 2.0842 3.65751L6.523 3.65532C7.352 3.65488 8.071 4.19554 8.2382 4.96854L8.869 7.67502C8.869 7.67862 8.8732 7.68046 8.8732 7.68414V7.69327L11.7886 19.5716C11.8884 19.9803 12.145 20.3466 12.5156 20.6092C12.8862 20.8718 13.3482 21.0149 13.8246 21.0145L30.7927 21.0061C33.4257 21.0049 35.4557 19.5545 36.2102 17.1727L39.46 7.82822C39.6534 7.27431 39.5322 6.67301 39.1403 6.20719L39.1404 6.20728ZM16.6801 23.7546C14.3826 23.7558 12.5151 25.3961 12.5165 27.412C12.5178 29.4279 14.3872 31.0664 16.6848 31.0653C18.9823 31.0641 20.8498 29.4238 20.8485 27.4079C20.8472 25.392 18.9777 23.7535 16.6801 23.7546ZM30.2196 23.748C27.9221 23.7491 26.0546 25.3894 26.056 27.4054C26.0573 29.4212 27.9267 31.0598 30.2243 31.0586C32.5218 31.0575 34.3893 29.4172 34.388 27.4013C34.3867 25.3854 32.5172 23.7468 30.2196 23.748Z"
                                fill="white" />
                        </svg>
                    </a>
                </div>
            </div>
        </nav>
        </header>
        <main>
            <section class="mb-5" >
                <div class="row product mt-5">
                    <div class="col-5 productImage">
                        <div class="row col-12 text-center bigImage">
                            <img id="mainImage" src="" alt="åœ–ç‰‡æè¿°">
                        </div>
<!--                        <div class="row col-12 justify-content-center smallImage" style="margin-bottom: 1vw">-->
<!--                            <div class="col-1"><button id="prevBtn">&lt</button></div>-->
<!--                            <div class="col-3" >-->
<!--                                <img src="./images/p1.jpeg" alt="åœ–ç‰‡æè¿°">-->
<!--                            </div>-->
<!--                            <div class="col-3 ">-->
<!--                                <img src="./images/p2.jpeg" alt="åœ–ç‰‡æè¿°">-->
<!--                            </div>-->
<!--                            <div class="col-3">-->
<!--                                <img src="./images/p3.jpeg" alt="åœ–ç‰‡æè¿°">-->
<!--                            </div>-->
<!--                            <div class="col-3">-->
<!--                                <img src="./images/å•†å“åœ–.png" alt="åœ–ç‰‡æè¿°">-->
<!--                            </div>-->
<!--                            <div class="col-3">-->
<!--                                <img src="./images/å•†å“åœ–2.jpg" alt="åœ–ç‰‡æè¿°">-->
<!--                            </div>-->
<!--                            <div class="col-1 ps-0"><button id="nextBtn">&gt</button></div>-->
<!--                        </div>-->
                    </div>

                    <div class="col-7 productDescribe">
                        <p id="productidmodel" style="display: none"></p>
                        <p class="productName" id="productName">å•†å“åç¨±</p>
                        <ul class="col-12 justify-content-start evaluate ">
<!--                            <li class="col-1">3.1</li>-->
<!--                            <li class="col-1"></li>-->
                            <li class="col-3">84è©•åƒ¹</li>
                            <li class="col-3">810å”®å‡º</li>
<!--                            <li class="col-3"><a href="">åŠ å…¥æ”¶è—</a></li>-->
                        </ul>
                        <div id="specificContainer"></div>

                        <div class="col-12 quantity">
                            <p>æ•¸é‡</p>
                            <button id="increaseBtn">+</button>
                            <input id="quantityValue" style="padding:0.5vw 1.4vw; width:4vw;" value="1" readonly/>
                            <button id="decreaseBtn" style="margin-right: 2vw;">-</button>
                            <p>åº«å­˜ <p id="quantity"></p></p>
                            <input name="firstModelid" style="display: none;"/>
                            <input name="secondModelid" style="display: none;"/>

                        </div>
                        <div class="col-12 price">
                            <p>åƒ¹æ ¼</p>
                            <span id="price"></span>
                        </div>
                        <div class="col-12 d-flex text-center">
                            <button class="buy">ç›´æ¥ä¸‹å–®</button>
                            <button class="add" id="addCart">åŠ å…¥è³¼ç‰©è»Š</button>
                        </div>
                    </div>
                </div>
            </section>
            <section>
                <div id="userid"></div>
                <div class="row seller">
                    <div class="col-5">
                        <div class="col-7 d-flex">
                            <div class="col-5 profileImage"><img src="./images/userImg4.png" alt=""></div>
                            <p class="sellerName">vervevogue<br><span>ç²‰çµ²æ•¸:<span>1532</span></span></p>
                        </div>
                        <div class="col-7 d-flex collect">
                            <a href="">åŠ å…¥æ”¶è—</a>
                            <a href="">ç§è¨Šè³£å®¶</a>
                        </div>
                    </div>
                    <div class="col-7 d-flex text-center sellerDecribe">
                        <div class="col-3">
                            <p>154</p>
                            <p>å•†å“ç¸½æ•¸</p>
                        </div>
                        <div class="col-3">
                            <p>56</p>
                            <p>è³£å ´è©•åƒ¹</p>
                        </div>
                        <div class="col-3">
                            <p>98%</p>
                            <p>èŠèŠå›æ‡‰ç‡</p>

                        </div>
                        <div class="col-3">
                            <p>1.2%</p>
                            <p>ä¸æˆåŠŸç‡</p>
                        </div>
                    </div>
                </div>
            </section>
            <section>
                <div class="row p-4 productDescribe2">
                    <p>å•†å“æè¿°</p>
                    <div class="div descriptionBorder">
                        <div id="descriptionContent"></div>
                    </div>
                </div>
            </section>
            <section>
                <div class="comment">
                    <p class="row">å•†å“è©•è«–</p>
                    <div class="bar row">
                        <div class="col-1">å…¨éƒ¨<span></span></div>
                        <div class="col-1">5æ˜Ÿ<span></span></div>
                        <div class="col-1">4æ˜Ÿ<span></span> </div>
                        <div class="col-1">3æ˜Ÿ<span></span></div>
                        <div class="col-1">2æ˜Ÿ<span></span></div>
                        <div class="col-1">1æ˜Ÿ<span></span></div>
<!--                        <span class="col-5  text-center">5.0/5</span>-->
                    </div>
                    <div class="row userComment">
                        <div class="user">
                            <span class="userName">ä½¿ç”¨è€…åç¨±:<img class="userIcon" src="./images/userImg2.jpeg" ><span><b>@buydeep</b></span></span>
                            <span class="commentContainer">è©•åƒ¹å…§å®¹</span>
                        </div>
                        <div class="row productComment">
                            <div class="col-2 div  productCommentImage"><img src="" ></div>
                            <div class="col-2 div "></div>
                            <div class="col-7 div " style="margin-top:1.5vw">è³£å®¶å¯„è²¨å¿«é€ŸåŒ…è£ä»”ç´°ï¼Œæ‘¸èµ·ä¾†è³ªæ„Ÿå¾ˆä¸éŒ¯ï¼Œå°ºå¯¸ä¹Ÿç›¸ç•¶é©åˆï¼Œåƒ¹éŒ¢ä¹Ÿæ˜¯ç›¸ç•¶è¶…å€¼ï¼Œæº–å‚™æ´—éä»¥å¾Œä¾†ç©¿äº†ï¼Œä»¥å¾Œæœ‰æ©Ÿæœƒå†ä¾†è²·</div>
                        </div>
                        <div class="user">
                            <span class="userName">ä½¿ç”¨è€…åç¨±:<img class="userIcon" src="./images/userImg1.jpeg" ><span><b>@buydeep</b></span></span>
                            <span class="commentContainer">è©•åƒ¹å…§å®¹</span>
                        </div>
                        <div class="row productComment">
                            <div class="col-2 div  productCommentImage"><img src="" ></div>
                            <div class="col-2 div "></div>
                            <div class="col-7 div " style="margin-top:1.5vw">è³£å®¶å‡ºè²¨é€Ÿåº¦å¾ˆå¿«ï¼Œå•†å“åŒ…è£å¦¥ç•¶æ²’æœ‰ä»»ä½•ç ´æï¼Œæè³ªæ˜¯ç´”æ£‰çš„ç©¿èµ·ä¾†è¶…èˆ’æœï¼Œè¨‚åƒ¹ä¹Ÿåˆé©æ•´é«”ä¾†èªªCPå€¼å¾ˆé«˜ï¼Œå·²ç¶“å†é€™åº—å®¶è²·éå¥½å¹¾æ¬¡äº†ä¸‹æ¬¡å¦‚æœé‚„æœ‰éœ€è¦æœƒå†å›è³¼ï¼Œè¬è¬ã€‚</div>
                        </div>
                        <div class="commentPage d-flex justify-content-end ">
                            <button>&lt</button>
                            <button>1</button>
                            <button>2</button>
                            <button>3</button>
                            <button>4</button>
                            <button>5</button>
                            <button>&gt</button>
                        </div>
                    </div>
                </div>
<!--                <div class="row similar">-->
<!--                    <div class="title">é¡ä¼¼å•†å“</div>-->
<!--                    <div class="row similarProduct">-->
<!--                        <div class="col-3 border border-dark"></div>-->
<!--                        <div class="col-3"></div>-->
<!--                        <div class="col-3"></div>-->
<!--                        <div class="col-3"></div>-->
<!--                    </div>-->
<!--                    <div class="row similarProduct">-->
<!--                        <div class="col-3 border border-dark"></div>-->
<!--                        <div class="col-3"></div>-->
<!--                        <div class="col-3"></div>-->
<!--                        <div class="col-3"></div>-->
<!--                    </div>-->
<!--                    <div class="similarPage d-flex justify-content-center ">-->
<!--                        <button>&lt</button>-->
<!--                        <button>1</button>-->
<!--                        <button>2</button>-->
<!--                        <button>3</button>-->
<!--                        <button>4</button>-->
<!--                        <button>5</button>-->
<!--                        <button>&gt</button>-->
<!--                    </div>-->
<!--                </div>-->
            </section>
        </main>
    <br><br><br>
        <footer>
            <div class="footer">
                <div>
                    <ul class="footerList">
                        <li class="h3">é—œæ–¼æˆ‘å€‘</li>
                        <li>é—œæ–¼DealDove</li>
                        <li>åŠ å…¥æˆ‘å€‘</li>
                        <li>è³£å®¶ä¸­å¿ƒ</li>
                        <li>é™æ™‚ç‰¹è³£</li>
                        <li>è¯çµ¡åª’é«”</li>
                    </ul>
                </div>
                <div>
                    <ul class="footerList">
                        <li class="h3">å®¢æœä¸­å¿ƒ</li>
                        <li>å¹«åŠ©ä¸­å¿ƒ</li>
                        <li>é€€è²¨é€€æ¬¾</li>
                        <li>è¯çµ¡å®¢æœ</li>
                    </ul>
                </div>
                <div>
                    <ul class="footerList">
                        <li class="h3">é—œæ³¨æˆ‘å€‘</li>
                        <li>é—œæ–¼DealDove</li>
                        <li>åŠ å…¥æˆ‘å€‘</li>
                        <li><img src="./images/icon _facebook.png"><span> </span><img
                                src="./images/icon _instagram.png"></li>
                    </ul>
                </div>
                <div>
                    <ul class="footerList">
                        <li class="h3">æ³•å¾‹èˆ‡éš±ç§</li>
                        <li>éš±ç§æ¬Šæ”¿ç­–</li>
                        <li>DealDoveæ¢æ¬¾</li>
                    </ul>
                </div>
                <img class="qrcode" src="./images/qrCode.png">
            </div>
        </footer>

    <!-- //èŠå¤©å®¤éƒ¨åˆ†// -->
    <div class="user-form hidden" id="username-page">
        <h2>é€²å…¥èŠèŠ</h2>
        <form id="usernameForm">
            <label for="nickname">Nickname:</label>
            <input type="text" id="nickname" name="nickname" required>

            <label for="fullname">Real Name:</label>
            <input type="text" id="fullname" name="realname" required>

            <button type="submit">é€²å…¥èŠå¤©å®¤</button>
        </form>
    </div>

    <div class="chat-container hidden" id="chat-page">

        <div id="header_talk">
            <div class="talk-title">èŠèŠ</div>
            <button id="toggle-button" onclick="toggleChat()">ï¼¸</button>
        </div>

        <div id="chat-content">

            <div class="users-list">

                <div class="users-list-container">
                    <ul id="connectedUsers">
                    </ul>
                </div>
                <br><br><br>
                <div>
                    <p id="connected-user-fullname"></p>
                </div>
            </div>

            <div class="chat-area">
                <div id="chat-header" class="chat-header-container">
                    <span id="chatusername"></span>
                </div>
                <div class="chat-area" id="chat-messages">
                </div>

                <form id="messageForm" name="messageForm">
                    <!-- è¼¸å…¥è¨Šæ¯ -->
                    <div class="message-input">
                        <input autocomplete="off" type="text" id="message" placeholder="è¼¸å…¥è¨Šæ¯...">
                    </div>

                </form>
                <div id="chat-footer">
                    <!-- è¡¨æƒ… -->

                    <button id="sticker-button" onclick="toggleStickerPanel()">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="#A2CAD3"
                             class="bi bi-emoji-smile" viewBox="0 0 16 16">
                            <path d="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14m0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16" />
                            <path
                                    d="M4.285 9.567a.5.5 0 0 1 .683.183A3.5 3.5 0 0 0 8 11.5a3.5 3.5 0 0 0 3.032-1.75.5.5 0 1 1 .866.5A4.5 4.5 0 0 1 8 12.5a4.5 4.5 0 0 1-3.898-2.25.5.5 0 0 1 .183-.683M7 6.5C7 7.328 6.552 8 6 8s-1-.672-1-1.5S5.448 5 6 5s1 .672 1 1.5m4 0c0 .828-.448 1.5-1 1.5s-1-.672-1-1.5S9.448 5 10 5s1 .672 1 1.5" />
                        </svg>
                    </button>

                    <div id="sticker-panel" style="display: none;">
                        <!-- è¡¨æƒ…ç¬¦è™Ÿé¸é … -->
                        <span onclick="selectSticker('ğŸ˜')">&#x1F601;</span>
                        <span onclick="selectSticker('ğŸ˜‚')">&#x1F602;</span>
                        <span onclick="selectSticker('ğŸ˜ƒ')">&#x1F603;</span>
                        <span onclick="selectSticker('ğŸ˜„')">&#x1F604;</span>
                        <span onclick="selectSticker('ğŸ˜…')">&#x1F605;</span>
                        <span onclick="selectSticker('ğŸ˜†')">&#x1F606;</span>
                        <span onclick="selectSticker('ğŸ˜‰')">&#x1F609;</span>
                        <span onclick="selectSticker('ğŸ˜Š')">&#x1F60A;</span>
                        <span onclick="selectSticker('ğŸ˜‹')">&#x1F60B;</span>
                        <span onclick="selectSticker('ğŸ˜Œ')">&#x1F60C;</span>
                        <span onclick="selectSticker('ğŸ˜')">&#x1F60D;</span>
                        <span onclick="selectSticker('ğŸ˜')">&#x1F60F;</span>
                        <span onclick="selectSticker('ğŸ˜’')">&#x1F612;</span>
                        <span onclick="selectSticker('ğŸ˜“')">&#x1F613;</span>
                        <span onclick="selectSticker('ğŸ˜”')">&#x1F614;</span>
                        <span onclick="selectSticker('ğŸ˜–')">&#x1F616;</span>
                        <span onclick="selectSticker('ğŸ˜˜')">&#x1F618;</span>
                        <span onclick="selectSticker('ğŸ˜š')">&#x1F61A;</span>
                        <span onclick="selectSticker('ğŸ˜œ')">&#x1F61C;</span>
                        <span onclick="selectSticker('ğŸ˜')">&#x1F61D;</span>
                        <span onclick="selectSticker('ğŸ˜')">&#x1F61E;</span>
                        <span onclick="selectSticker('ğŸ˜ ')">&#x1F620;</span>
                        <span onclick="selectSticker('ğŸ˜¡')">&#x1F621;</span>
                        <span onclick="selectSticker('ğŸ˜¢')">&#x1F622;</span>
                        <span onclick="selectSticker('ğŸ˜£')">&#x1F623;</span>
                        <span onclick="selectSticker('ğŸ˜¤')">&#x1F624;</span>
                        <span onclick="selectSticker('ğŸ˜¥')">&#x1F625;</span>
                        <span onclick="selectSticker('ğŸ˜¨')">&#x1F628;</span>
                        <span onclick="selectSticker('ğŸ˜©')">&#x1F629;</span>
                        <span onclick="selectSticker('ğŸ˜ª')">&#x1F62A;</span>
                        <span onclick="selectSticker('ğŸ˜«')">&#x1F62B;</span>
                        <span onclick="selectSticker('ğŸ˜­')">&#x1F62D;</span>
                        <span onclick="selectSticker('ğŸ˜°')">&#x1F630;</span>
                        <span onclick="selectSticker('ğŸ˜±')">&#x1F631;</span>
                        <span onclick="selectSticker('ğŸ˜²')">&#x1F632;</span>
                        <span onclick="selectSticker('ğŸ˜³')">&#x1F633;</span>
                        <span onclick="selectSticker('ğŸ˜µ')">&#x1F635;</span>
                        <span onclick="selectSticker('ğŸ˜·')">&#x1F637;</span>
                        <span onclick="selectSticker('ğŸ˜¸')">&#x1F638;</span>
                        <span onclick="selectSticker('ğŸ˜¹')">&#x1F639;</span>
                        <span onclick="selectSticker('ğŸ˜º')">&#x1F63A;</span>
                        <span onclick="selectSticker('ğŸ˜»')">&#x1F63B;</span>
                        <span onclick="selectSticker('ğŸ˜¼')">&#x1F63C;</span>
                        <span onclick="selectSticker('ğŸ˜½')">&#x1F63D;</span>
                        <span onclick="selectSticker('ğŸ˜¾')">&#x1F63E;</span>
                        <span onclick="selectSticker('ğŸ˜¿')">&#x1F63F;</span>
                        <span onclick="selectSticker('ğŸ™€')">&#x1F640;</span>
                        <span onclick="selectSticker('ğŸ™…')">&#x1F645;</span>
                        <span onclick="selectSticker('ğŸ™†')">&#x1F646;</span>
                        <span onclick="selectSticker('ğŸ™‡')">&#x1F647;</span>
                        <span onclick="selectSticker('ğŸ™ˆ')">&#x1F648;</span>
                        <span onclick="selectSticker('ğŸ™‰')">&#x1F649;</span>
                        <span onclick="selectSticker('ğŸ™Š')">&#x1F64A;</span>
                        <span onclick="selectSticker('ğŸ™‹')">&#x1F64B;</span>
                        <span onclick="selectSticker('ğŸ™Œ')">&#x1F64C;</span>
                        <span onclick="selectSticker('ğŸ™')">&#x1F64D;</span>
                        <span onclick="selectSticker('ğŸ™')">&#x1F64E;</span>
                        <span onclick="selectSticker('ğŸ™')">&#x1F64F;</span>

                    </div>
                    <!-- å‚³åœ– -->
                    <input type="file" id="image-input" style="display: none;" accept="image/*"
                           onchange="prepareImageUpload()">
                    <button id="upload-button" onclick="document.getElementById('image-input').click();">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="#A2CAD3"
                             class="bi bi-image-fill" viewBox="0 0 16 16">
                            <path
                                    d="M.002 3a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v10a2 2 0 0 1-2 2h-12a2 2 0 0 1-2-2zm1 9v1a1 1 0 0 0 1 1h12a1 1 0 0 0 1-1V9.5l-3.777-1.947a.5.5 0 0 0-.577.093l-3.71 3.71-2.66-1.772a.5.5 0 0 0-.63.062zm5-6.5a1.5 1.5 0 1 0-3 0 1.5 1.5 0 0 0 3 0" />
                        </svg>
                    </button>
                    <!-- å‚³é€ -->
                    <button id="send-button" onclick="sendMessage()">
                        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="#A2CAD3" class="bi bi-send"
                             viewBox="0 0 16 16">
                            <path
                                    d="M15.854.146a.5.5 0 0 1 .11.54l-5.819 14.547a.75.75 0 0 1-1.329.124l-3.178-4.995L.643 7.184a.75.75 0 0 1 .124-1.33L15.314.037a.5.5 0 0 1 .54.11ZM6.636 10.07l2.761 4.338L14.13 2.576zm6.787-8.201L1.591 6.602l4.339 2.76z" />
                        </svg>
                    </button>
                </div>
            </div>
        </div>
    </div>

    <button id="chat-icon" onclick="toggleChat()">
        <svg xmlns="http://www.w3.org/2000/svg" width="50" height="50" fill="#A2CAD3" class="bi bi-chat-square-dots"
             viewBox="0 0 16 16">
            <path
                    d="M14 1a1 1 0 0 1 1 1v8a1 1 0 0 1-1 1h-2.5a2 2 0 0 0-1.6.8L8 14.333 6.1 11.8a2 2 0 0 0-1.6-.8H2a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1zM2 0a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h2.5a1 1 0 0 1 .8.4l1.9 2.533a1 1 0 0 0 1.6 0l1.9-2.533a1 1 0 0 1 .8-.4H14a2 2 0 0 0 2-2V2a2 2 0 0 0-2-2H2z" />
            <path
                    d="M5 6a1 1 0 1 1-2 0 1 1 0 0 1 2 0m4 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0m4 0a1 1 0 1 1-2 0 1 1 0 0 1 2 0" />
        </svg>
    </button>
    <script src="./js/search.js"></script>
    <script>
        // èŠå¤©å®¤ç¸®æ”¾
        function toggleChat() {
            var chatpage = document.getElementById("chat-page");
            var chatIcon = document.getElementById("chat-icon");

            // æª¢æŸ¥èŠå¤©è¦–çª—çš„é¡¯ç¤ºç‹€æ…‹ä¸¦åˆ‡æ›
            if (chatpage.style.display === "none" || chatpage.style.display === "") {
                chatpage.style.display = "flex"; // é¡¯ç¤ºèŠå¤©è¦–çª—
                chatIcon.style.display = "none"; // éš±è— chat-icon æŒ‰éˆ•
            } else {
                chatpage.style.display = "none"; // éš±è—èŠå¤©è¦–çª—
                chatIcon.style.display = "block"; // é¡¯ç¤º chat-icon æŒ‰éˆ•
            }
        }

        // ç¢ºä¿åœ¨é é¢åŠ è¼‰æ™‚è¨­ç½®æ­£ç¢ºçš„åˆå§‹ç‹€æ…‹
        document.addEventListener("DOMContentLoaded", function () {
            // é è¨­éš±è—èŠå¤©è¦–çª—ï¼Œé¡¯ç¤º chat-icon
            document.getElementById("chat-page").style.display = "none";
            document.getElementById("chat-icon").style.display = "block";
        });

        // é¡¯ç¤ºæˆ–éš±è—è²¼åœ–é¢æ¿
        function toggleStickerPanel() {
            var panel = document.getElementById("sticker-panel");
            panel.style.display = panel.style.display === "none" ? "block" : "none";
        }

        // å°‡é¸æ“‡çš„è²¼åœ–æ·»åŠ åˆ°æ¶ˆæ¯è¼¸å…¥æ¡†ä¸­
        function selectSticker(sticker) {
            var messageInput = document.getElementById('message');
            var stickerPanel = document.getElementById('sticker-panel');

            // å°‡è¡¨æƒ…ç¬¦è™Ÿæ·»åŠ åˆ°è¼¸å…¥æ¡†çš„ç¾æœ‰å…§å®¹ä¸­
            messageInput.value += sticker;

            // å°‡ç„¦é»è¨­å®šå›è¼¸å…¥æ¡†
            messageInput.focus();

            // éš±è—è¡¨æƒ…é¸æ“‡è¦–çª—
            stickerPanel.style.display = 'none';
        }


        // é¸æ“‡åœ–ç‰‡å¾Œç«‹å³è™•ç†ä¸Šå‚³
        function prepareImageUpload() {
            var fileInput = document.getElementById('image-input');

            if (fileInput.files && fileInput.files[0]) {
                uploadImageToChat(); // ç›´æ¥èª¿ç”¨ä¸Šå‚³åœ–ç‰‡å‡½æ•¸
            }
        }

        // ä¸Šå‚³åœ–ç‰‡åˆ°èŠå¤©æ­·å²
        function uploadImageToChat() {
            var fileInput = document.getElementById('image-input');
            var chatHistory = document.getElementById('chat-area');

            if (fileInput.files && fileInput.files[0]) {
                var reader = new FileReader();
                reader.onload = function (e) {
                    var imgDiv = document.createElement('div');
                    imgDiv.classList.add('message', 'self');

                    var img = document.createElement('img');
                    img.src = e.target.result;
                    img.alt = 'Uploaded Image';

                    imgDiv.appendChild(img);
                    chatHistory.appendChild(imgDiv);
                    chatHistory.scrollTop = chatHistory.scrollHeight;
                };

                reader.readAsDataURL(fileInput.files[0]);
            }
        }
    </script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/sockjs-client/1.1.4/sockjs.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/stomp.js/2.3.3/stomp.min.js"></script>
    <script src="./js/chat.js" type="module"></script>
    <!-- //èŠå¤©å®¤éƒ¨åˆ†// -->

    <script src="./js/isLogin.js" type="module"></script>
    <script>
        let firName='';
        let secName='';

        //æ–°å¢å–å¾—URLåƒæ•¸
        let urlParams = new URLSearchParams(window.location.search);
        let param = urlParams.get('productID');
        console.log(param+"param");
        document.getElementById('productidmodel').innerText=param;
        fetch(`api/products/${param}/images`)
            .then(response => response.json())
            .then(images => {
                // åœ¨é€™è£¡æ›´æ–°åœ–ç‰‡
                if (images && images.length > 0) {
                    const mainImage = document.getElementById('mainImage');
                    const commentImages = document.getElementsByClassName('productCommentImage');

                    if (mainImage) {
                        mainImage.src = images[0];
                    }

                    // æ›´æ–°æ‰€æœ‰è©•è«–åœ–ç‰‡
                    for (let i = 0; i < commentImages.length; i++) {
                        commentImages[i].getElementsByTagName('img')[0].src = images[0];
                    }
                } else {
                    // å¦‚æœæ²’æœ‰åœ–ç‰‡ï¼Œè¨­å®šé è¨­åœ–ç‰‡
                    const defaultImage = 'https://down-tw.img.susercontent.com/file/tw-11134201-7r98r-lnc0ffucu9lpf9';

                    if (mainImage) {
                        mainImage.src = defaultImage;
                    }

                    // è¨­å®šæ‰€æœ‰è©•è«–åœ–ç‰‡çš„é è¨­åœ–ç‰‡
                    for (let i = 0; i < commentImages.length; i++) {
                        commentImages[i].getElementsByTagName('img')[0].src = defaultImage;
                    }
                }
            })

        .catch(error => console.error('Error:', error));
                fetch(`api/products/getProduct/${param}`)
                    .then(response => response.json())
                    .then(product => product.forEach((product)=>{
                        document.getElementById('productName').innerText =product.productName;
                        document.getElementById('descriptionContent').innerText = product.productDes;

                        // æ¸…ç©ºåŸæœ‰çš„å…§å®¹
                        document.getElementById('specificContainer').innerHTML = '';
                        // ä½¿ç”¨ Fetch API ä¾†å‘¼å«å¾Œç«¯ API å–å¾—ç”¢å“è¦æ ¼
                        fetch(`api/products/${param}/specifications`)
                            .then(response => response.json())
                            .then(specifications => {
                                // å°‡è¦æ ¼è³‡æ–™å‹•æ…‹ç”Ÿæˆåˆ° HTML ä¸­
                                Object.entries(specifications).forEach(([specType, specValues]) => {

                                    const specTypeContainer = document.createElement('div');
                                    specTypeContainer.classList.add('col-12', 'mt-3', 'specification');
                                    specTypeContainer.id = `container${specType}`;
                                    // ç”¢ç”Ÿè¦æ ¼åç¨±çš„å€å¡Š
                                    const specTypeLabel = document.createElement('p');
                                    specTypeLabel.classList.add('col-2');
                                    if('name' in specValues){
                                        specTypeLabel.textContent = specValues['name'];
                                    }
                                    specTypeContainer.appendChild(specTypeLabel);

                                    // ç”¢ç”Ÿè¦æ ¼å…§å®¹çš„å€å¡Š
                                    specValues.dataMapList.forEach(data => {
                                        const specValuesContainer = document.createElement('div');
                                        specValuesContainer.classList.add('div');
                                        specValuesContainer.classList.add(`${specType}modelinfos`); //black
                                        specValuesContainer.textContent = data.name;

                                        const specValuesContainerName = document.createElement('div');
                                        specValuesContainerName.classList.add(`modelName`);
                                        specValuesContainerName.textContent = data.name;
                                        specValuesContainerName.style.display = 'none';

                                        const specValuesContainer2 = document.createElement('div');
                                        specValuesContainer2.classList.add('modelid');
                                        specValuesContainer2.textContent = data.id;
                                        specValuesContainer2.style.display = 'none';

                                        specTypeContainer.appendChild(specValuesContainer);
                                        specValuesContainer.appendChild(specValuesContainer2);
                                        specValuesContainer.appendChild(specValuesContainerName);

                                        // è¨»å†Šé»æ“Šäº‹ä»¶
                                        specValuesContainer.addEventListener('click', function() {
                                            const modelId = specValuesContainer.querySelector('.modelid').innerText;
                                            const modelName = specValuesContainer.querySelector('.modelName').innerText;


                                            if(`${specType}` === "map1"){   //å–å•†å“è¦æ ¼å€¼
                                                const firstModelidInput = document.getElementsByName('firstModelid')[0];
                                                console.log(firstModelidInput+"firstModelidInput");
                                                const modelId1 = modelId; // æ›¿æ›ç‚ºå¯¦éš›çš„å€¼
                                                console.log(modelId1+"modelId1");
                                                // è¨­ç½®å…ƒç´ çš„å€¼
                                                firstModelidInput.value = modelId1;
                                                // å‰µå»º input äº‹ä»¶
                                                const inputEvent = new Event('input', {
                                                    bubbles: true,
                                                    cancelable: true,
                                                });
                                                // åˆ†æ´¾ input äº‹ä»¶
                                                firstModelidInput.dispatchEvent(inputEvent);
                                                // selectedModelFir.push(modelName);
                                                firName=modelName;
                                                console.log(firName);
                                            }else{
                                                const secondModelidInput = document.getElementsByName('secondModelid')[0];
                                                const modelId2 = modelId;
                                                secondModelidInput.value = modelId2;
                                                const inputEvent = new Event('input', {
                                                    bubbles: true,
                                                    cancelable: true,
                                                });
                                                secondModelidInput.dispatchEvent(inputEvent);
                                                // selectedModelSec.push(modelName);
                                                secName=modelName;
                                                console.log(secName);
                                            }
                                        });
                                    });

                                    // å°‡æ•´å€‹è¦æ ¼å€å¡ŠåŠ å…¥åˆ°ä¸»å®¹å™¨ä¸­
                                    document.getElementById('specificContainer').appendChild(specTypeContainer);

                                    // æ–°å¢æ›è¡Œå…ƒç´ 
                                    const lineBreak = document.createElement('br');
                                    document.getElementById('specificContainer').appendChild(lineBreak);
                                });
                            })
                            .catch(error => console.log(error));
                    }))
                    .catch(error => console.log(error));


        const firstModelidInput = document.getElementsByName('firstModelid')[0];
        const secondModelidInput = document.getElementsByName('secondModelid')[0];

            firstModelidInput.addEventListener("input", handleInput);
            secondModelidInput.addEventListener("input", handleInput);

            function handleInput() {
                const firstModelid = firstModelidInput.value;
                const secondModelid = secondModelidInput.value;
                if(firstModelid!= '' && secondModelid != ''){   // å–åˆ°å…©å€¼æ‰é¡¯ç¤ºåº«å­˜ã€åƒ¹æ ¼
            fetch(`api/products/${param}/${firstModelid}/${secondModelid}/modelinfo`)
                .then(response => response.json())
                .then(modelinfo => {
                    document.getElementsByClassName('modelinfos');

                    document.getElementById('quantity').innerText = modelinfo.quantity;
                    document.getElementById('price').innerText = modelinfo.price;
                })
                .catch(error => console.log(error));
                }
        };
        document.addEventListener('DOMContentLoaded', function() {
            // å–å¾—ç›¸é—œå…ƒç´ 
            const quantityInput = document.getElementById('quantityValue');
            const increaseBtn = document.getElementById('increaseBtn');
            const decreaseBtn = document.getElementById('decreaseBtn');
            const quantitySpan = document.getElementById('quantity');

            // åˆå§‹åŒ–æ•¸é‡
            let quantity = 1;

            // å‡è¨­åº«å­˜ç‚º 10
            const stockQuantity = 50;
            //quantitySpan.textContent = stockQuantity;

            // å¢åŠ æŒ‰éˆ•é»æ“Šäº‹ä»¶
            increaseBtn.addEventListener('click', function() {
                if (quantity < stockQuantity) {
                    quantity++;
                    quantityInput.value = quantity;
                }
            });

            // æ¸›å°‘æŒ‰éˆ•é»æ“Šäº‹ä»¶
            decreaseBtn.addEventListener('click', function() {
                if (quantity > 1) {
                    quantity--;
                    quantityInput.value = quantity;
                }
            });
        });

    </script>
<!--    åœ–ç‰‡-->
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const mainImage = document.getElementById('mainImage');
            const prevBtn = document.getElementById('prevBtn');
            const nextBtn = document.getElementById('nextBtn');
            const smallImages = document.querySelectorAll('.smallImage .col-3');
            const totalImages = smallImages.length;
            const imagesPerSet = 3;
            let currentImageIndex = 0;

            // åˆå§‹åŒ–é¡¯ç¤ºå‰ä¸‰å€‹å°åœ–
            showSmallImages(0, imagesPerSet - 1);

            prevBtn.addEventListener('click', function() {
                // å¦‚æœå·²ç¶“é¡¯ç¤ºåˆ°ç¬¬ä¸€çµ„å°åœ–ï¼Œå‰‡é–å®šåœ¨å‰ä¸‰å€‹å€å¡Š
                console.log(currentImageIndex+"click");
                if (currentImageIndex <= 2) {
                    currentImageIndex = 0;
                    showSmallImages(0, imagesPerSet - 1);
                }else{
                    // é¡¯ç¤ºä¸Šä¸€å€‹ä¸‰å€‹å°åœ–
                    showSmallImages(currentImageIndex - imagesPerSet, currentImageIndex - 1);
                }
            });
            nextBtn.addEventListener('click', function() {
                // é¡¯ç¤ºä¸‹ä¸€å€‹ä¸‰å€‹console.log(currentImageIndex+"000currentImageIndex");å°åœ–
                console.log(currentImageIndex+"11currentImageIndex");
                console.log(totalImages+"11hii");
                console.log(imagesPerSet+"11imagesPerSet");
                showSmallImages(currentImageIndex, currentImageIndex + imagesPerSet - 1);

                console.log(currentImageIndex+"currentImageIndex");
                console.log(totalImages+"hii");
                console.log(imagesPerSet+"imagesPerSet");
                // å¦‚æœå·²ç¶“é¡¯ç¤ºåˆ°æœ€å¾Œä¸€çµ„å°åœ–ï¼Œå‰‡é–å®šåœ¨å€’æ•¸ä¸‰å€‹å€å¡Š
                if (currentImageIndex >= totalImages - imagesPerSet) {
                    currentImageIndex = totalImages - imagesPerSet;
                    showSmallImages(currentImageIndex, totalImages - 1);
                }
            });
            function showSmallImages(startIndex, endIndex) {
                // éš±è—æ‰€æœ‰å°åœ–
                hideAllSmallImages();

                // é¡¯ç¤ºæŒ‡å®šç¯„åœçš„å°åœ–
                for (let i = startIndex; i <= endIndex; i++) {
                    if (smallImages[i]) {
                        smallImages[i].style.display = 'block';
                    }
                }

                // æ›´æ–°ç›®å‰é¡¯ç¤ºçš„å°åœ–ç´¢å¼•
                currentImageIndex = endIndex;
            }

            function hideAllSmallImages() {
                smallImages.forEach(image => {
                    image.style.display = 'none';
                });
            }
        });

    </script>
    <script src="./js/productpage.js" type="module"></script>
    <script src="./js/search.js"></script>
</body>

</html>